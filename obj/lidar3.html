<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title> Lidar simulation - case 2 </title>
<style type="text/css">
    <!--
     body {color: #000000; background: #ffffff;
           font-family: verdana, arial, helvetica, times new roman;
           font-size: small;}
     h1 {font-family: courier new, courier;}
     h2 {font-family: courier new, courier;}
     tt {font-family: courier new, courier;}
    -->
</style>
</head>

<body>
[<a href="lidar2.html">previous</a>] [<a href="lidar4.html">next</a>]
<br>

<h1 align="center">Some options for lidar processing</h1>


Some options you might want to consider for lidar simulations:

<h2>Lidar pulse</h2>

This is achieved by specifying (e.g. <a href="light3.dat">light3.dat</a>). This is the same as  <a href="light1.dat">light1.dat</a>, except a lidar pulse is specified:<br><br>

<tt>
&nbsp;# start of pulse: make this half the pulse length for a Gaussian<br>
&nbsp;lidar.pulseStart = 5000;<br>
&nbsp;# shape of pulse (square or gaussian<br>
&nbsp;lidar.pulseForm = "gaussian";<br>
&nbsp;# how much of a Gaussian?<br>
&nbsp;lidar.pulseSD = 3.0;<br>
&nbsp;# length of pulse<br>
&nbsp;lidar.pulseLength = 10000.0;<br>
&nbsp;# number of samples for discrete representation<br>
&nbsp;lidar.pulseSamples = 100;<br>
&nbsp;# filename in case want to store representation<br>
&nbsp;lidar.pulseOPFile = "pulse.dat";<br>

</tt>


<br><br>

This is run with:

<br><br>
<tt>
echo 14 camera3.dat light3.dat | start -v -sensor_wavebands wavebands.dat -m 1 -black test.obj<br>
</tt><br><br>
And gives:
<br>
<br>
<center>
<img src="lidarPlot2.png">
</center>

which is of course a smoothed vesrion of the original signal (original shown in red).<br><br>


If we use a much longer pulse of e.g. 50000, we get a much more blurred signal.<br>

<br><br>
<tt>
echo 14 camera4.dat light4.dat | start -v -sensor_wavebands wavebands.dat -m 1 -black test.obj<br>
</tt><br><br>

<br>
<center>
<img src="lidarPlot3.png">
</center>


N.B. In the lidar output, the first and last entries (in image files of integral ASCII files) are underflow and overflow bins. This is particularly apparent when the long pulse is used above: the underflow bin here is less than 0.0 (a small upward tick).<br><br>


<h2>Point spread function of camera and/or illumination</h2>

We would typically define some PSF (MTF) on the lidar illumination or reciever. This is achieved via:

<br><br>

<tt>
&nbsp;&nbsp;samplingPattern.form = "gaussian";<br>
&nbsp;&nbsp;  samplingPattern.size = 1200, 1200;<br>
&nbsp;&nbsp;  samplingPattern.sd = 3,3;<br>
&nbsp;&nbsp;  samplingPattern.centre = 600, 600;<br>
# a threshold can be applied<br>
# everything below this is set to zero<br>
# the gaussian function used is:<br>
# G = exp(-X^2/(2 sdx^2)) * exp(-Y^2/(2*sdy^2))<br>
# where X = x - cx<br>
# so eg to threshold at 3 sd:<br>
# X/sdx = 3<br>
&nbsp;&nbsp;  samplingPattern.threshold = .01111;<br>

</tt><br><br>

The Gaussian MTF can be output by specifying e.g. <tt>samplingPattern.OPImage = "opGaussian.hips"</tt>.<br>

<br><br>
<center>
<img src="sampling.gif">
</center>

<br><br>
The Gaussian can in some cases dramatically change the form of the output waveform (see below), but the impact will normally be quite minor for small field of view instruments.
<br><br>


<center>
<img src="lidarPlot4.png">
</center>


[<a href="lidar2.html">previous</a>] [<a href="lidar4.html">next</a>]
