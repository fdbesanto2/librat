<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title> Lidar simulation - case 3 </title>
<style type="text/css">
    <!--
     body {color: #000000; background: #ffffff;
           font-family: verdana, arial, helvetica, times new roman;
           font-size: small;}
     h1 {font-family: courier new, courier;}
     h2 {font-family: courier new, courier;}
     tt {font-family: courier new, courier;}
    -->
</style>
</head>

<body>
[<a href="lidar3.html">previous</a>]
<br>

<h1 align="center">A more realistic scenario</h1>


<h2>Beech canopy</h2>

The file <a href="shrubs.obj">shrubs.obj</a> is a much more complex (and realistic model for simulating lidar waveforms of canopies. It uses the plant material library <a href="plants2.matlib">plants2.matlib</a> and material files in the sub-directory <a href="refl">refl</a>.

<br><br>

We use the light file <a href="nlight.dat">nlight.dat</a> and the camera file <a href="ncamera.dat">ncamera.dat</a><br><br>


First, it is worthwhile deriving a height map of the object. From inspection of the <tt>clone</tt> objects in <a href="shrubs.obj">shrubs.obj</a>:<br><br>
<tt>
grep clone shrubs.obj | awk '{print $2,$3}' > clones.dat</tt><br><br>

<center>
<img src="clones.png">
</center>

<br><br>
We notice that the plants are located in a 50 m x 50 m area, so we chhoose to derive the height map of this:

<br><br>

<tt>echo 16 0 0 200 100 100 512 512 1 heightmapn.hips | start -v shrubs.obj 
</tt><br><br>

<center>
<img src="heightmapn.gif">
</center>
With stats:<br>
<tt>
Frame	0 : n=262144 mean=0.151 SD=0.289 Min=0.000 Max=1.299
</tt>

<br><br>
Or looking at a smaller area:

<br><br>

<tt>echo 16 0 0 200 10 10 512 512 1 heightmapn1.hips | start -v shrubs.obj 
</tt><br><br>

<center>
<img src="heightmapn1.gif">
</center>

<br><br>
Or further still:

<br><br>

<tt>echo 16 0 0 200 2 2 512 512 1 heightmapn2.hips | start -v shrubs.obj
</tt><br><br>

<center>
<img src="heightmapn2.gif">
</center>

<br><br>

The camera and light are at 7 m above the ground, and the canopy height is 1.28 m. 

<br><br>

We run with:

<br><br>

<tt>
echo 14 ncamera.dat nlight.dat | start -v -black -sensor_waveband wavebands.dat shrubs.obj
</tt>
<br><br>


<center>
<img src="cameraPsfImage.gif">
</center>

The plot below shows the waveforms for the two wavelengths specified.<br><br>
<center>
<img src="nplot.png">
</center>







[<a href="lidar3.html">previous</a>]

